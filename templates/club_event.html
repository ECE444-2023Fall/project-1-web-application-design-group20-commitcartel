{% extends "base.html" %}

{% block title %}Flasky{% endblock %}
{% block content %}

<div class="container">
    <div class="column" id="column1">
        <img class="club_event_logo" src="/static/ewb_logo.jpg">
    </div>
    <div class="column" id="column2">
        <h1 class="club_event_name">{{data['event_name']}}</h2>
        <p style="font-family: Verdana, sans-serif; font-weight: bold; font-style: italic;"> Event Description: </p>
        <p style="font-size: medium;font-family: Verdana, sans-serif;">{{data['event_description']}}</p>
        <br>
        <p style="font-family: Verdana, sans-serif; font-weight: bold; font-style: italic;"> Event Details: </p>
        <p style="font-family: Verdana, sans-serif;">Date: {{data['date']}}</p>
        <p style="font-family: Verdana, sans-serif;">Time: {{data['time']}}</p>
        <p style="font-family: Verdana, sans-serif;">Club: {{data['club_name']}}</p>
        <p style="font-family: Verdana, sans-serif;">Location: {{data['location']}}</p>
        <P style="font-family: Verdana, sans-serif;">Attending: {{data['num_attending']}}</P>
    </div>
    <div class="column" id="{{ 'column4' if data['completed'] else 'column3' }}">
        {% if data['completed'] %}
            <h2 style="color: #3A2C25; font-family: Verdana, sans-serif;">REVIEWS</h2>
            <div class="scrollable-container">
                {% for review in data['reviews'] %}
                <div class="attendee-box">
                    <p>Name: {{ review['name'] }}</p>
                    <p>Rating: 
                        {% for i in range(1, 6) %}
                            {% if i <= review['rating'] %}
                                <span class="fa fa-star checked"></span>
                            {% else %}
                                <span class="fa fa-star unchecked"></span>
                            {% endif %}
                        {% endfor %}
                    </p>
                    <p>{{review['comment']}}</p>
                </div>
                {% endfor %}
            </div>
            <div>
                <h2 style="color: #3A2C25; font-family: Verdana, sans-serif;">RATING</h2>
                <div class="average-rating-container">
                    <p>
                        {% for i in range(1, 6) %}
                            {% if i <= data['event_rating_avg'] %}
                                <span style="font-size: 80px;" class="fa fa-star checked final-rating"></span>
                            {% else %}
                                <span style="font-size: 80px;" class="fa fa-star unchecked final-rating"></span>
                            {% endif %}
                        {% endfor %}
                    </p>
                </div>
            </div>

        {% else %}
        <h2 style="color: #3A2C25; font-family: Verdana, sans-serif;">ATTENDEES</h2>
        <div class="scrollable-container">
            {% for attendee in data['attendees'] %}
            <div class="attendee-box">
                <p>Name: {{ attendee['name'] }}</p>
                <p>Email: {{ attendee['email'] }}</p>
                <p>Year: {{ attendee['year'] }}</p>
                <p>Program: {{ attendee['program'] }}</p>
            </div>
            {% endfor %}
        </div>
        {% endif %}    
    </div>
</div>

{% endblock %}